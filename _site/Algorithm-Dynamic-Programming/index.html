<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
　　<title>算法笔记-动态规划</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/static/css/style.css"/>
    <link rel="stylesheet" href="/static/css/solarized_light.css">
    <script src="/static/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$', '$'] ],
        displayMath: [ ['$$', '$$']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      messageStyle: "none",
      "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
    });
    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
　</head>

　<body>
    <div id="wrapper">
      <aside>
        <div class="site-info">lastmayday</div>
        <div class="index">
          <a href="/"><div class="circle home"><span>Home</span></div></a>
          <a href="/blog"><div class="circle blog"><span>Blog</span></div></a>
          <a href="/about.html"><div class="circle about"><span>About</span></div></a>
          <a href="/link.html"><div class="circle link"><span>Link</span></div></a>
        </div>
      </aside>
      <div class="content" role="main">
          <h1>算法笔记-动态规划</h1>
          <div class="info">27 February 2014</div>
          <br />
          <p>DP好难啊…T_T</p>

<p>智商不够只能慢慢看了…T_T</p>

<p><br /></p>

<h2 id="section">背包问题</h2>

<p><br /></p>

<p>先把<a href="http://cuitianyi.com/blog/%E3%80%8A%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E4%B9%9D%E8%AE%B2%E3%80%8B2-0-alpha1/">背包九讲</a>放在这里镇着.</p>

<h3 id="section-1">01背包问题</h3>

<p><br /></p>

<blockquote>
  <p>有n个重量和价值分别为w<sub>i</sub>, v<sub>i</sub>的物品. 从这些物品中挑出总重量不超过W的物品. 问能挑出的最大价值为多少.</p>
</blockquote>

<p><br /></p>

<p>最容易想到的方法是对每一个物品是否放入背包试一下.</p>

<script src="https://gist.github.com/9247240.js"> </script>

<p><br /></p>

<p>DP中貌似分析出状态转移方程是很重要的.(就像高中数学的递推表达式…</p>

<p>那么分析一下这个问题的状态转移. 假定有dp[i][j]表示从前i个物品中选出总重量不超过j的物品时的最大价值. 很显然dp[0][j] = 0. 对于任一i, j, 如果w[i] &gt; j那么dp[i+1][j] = dp[i][j], 否则dp[i+1][j] = max(dp[i][j], dp[i][j-w[i]] + v[i]). 公式如下:</p>

<script type="math/tex; mode=display">% <![CDATA[
dp[i+1][j] = \left\{ \begin{array}{ll}
dp[i][j] & \textrm{$j<w[i]$}\\
max(dp[i][j], dp[i][j-w[i]] + v[i]) & \textrm{$j>=w[i]$}
\end{array} \right. %]]></script>

<p><br /></p>

<p>参考代码:</p>

<script src="https://gist.github.com/9247948.js"> </script>

<p><br /></p>

<p><strong>感谢kid177</strong> ! 把上面的代码降到了一维~</p>

<p><br /></p>

<script src="https://gist.github.com/9305980.js"> </script>

<p><br /></p>

<h3 id="section-2">完全背包问题</h3>

<p><br /></p>

<blockquote>
  <p>有n种重量和价值分别为w<sub>i</sub>, v<sub>i</sub>的物品. 从中挑选总重量不超过W的物品, 求价值总和的最大值. 每种物品可以挑选任意多件.</p>
</blockquote>

<p>还是用上面的dp[i][j]那么现在递推关系变成了这样:</p>

<script type="math/tex; mode=display">dp[i+1][j] = max\{dp[i][j - k \times w[i]] + k \times v[i] | 0 \le k\}</script>

<p>然后注意一下在dp[i+1][j]中选择k(k&gt;=1)个的情况与在dp[i+1][j-w[i]]中选择k+1个情况相同. 所以dp[i+1][j]中k&gt;=1的部分已经在dp[i+1][j-w[i]]中计算过. 上面的式子可以这样变形:</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
& max\{dp[i][j - k \times w[i]] + k \times v[i] | 0 \le k\} \\
& = max(dp[i][j], max\{ dp[i][j - k \times w[i]] + k \times v[i] | 1 \le k \}) \\
& = max(dp[i][j], max\{ dp[i][(j - w[i]) - k \times w[i]] + k \times v[i] | 0 \le k \} + v[i]) \\
& = max(dp[i][j], dp[i+1][j-w[i]] + v[i])
\end{align} %]]></script>

<p>参考代码:</p>

<script src="https://gist.github.com/9306164.js"> </script>

<p><br /></p>

<h2 id="section-3">多重部分和问题</h2>

<p><br /></p>

<blockquote>
  <p>有n种不同大小的数字a<sub>i</sub>, 每种各m<sub>i</sub>个. 判断是否可以从这些数字中选出若干使它们的和恰好为K.</p>
</blockquote>

<p><br /></p>

<p>用dp[i][j]表示前i种数相加得到j的时候第i种数最多能剩余多少个(不能得到j的时候为-1). 那么如果前i-1种数相加能得到j的话, 第i个数就可以留下m<sub>i</sub>个; 如果前i种数加和为j-a<sub>i</sub>时时第i种数还剩下k(k&gt;0)个的话, 那么dp[i][j]就等于k-1. 这样可以得到下面的递推式:</p>

<script type="math/tex; mode=display">% <![CDATA[
dp[i+1][j] = \left\{ \begin{array}{ll}
m_i & \textrm{$dp[i][j]>=0$}\\
-1 & \textrm{$j<a_i 或者 dp[i+1][j-a_i] <= 0$}\\
dp[i+1][j-a_i]-1 & \textrm{$其他$}
\end{array} \right. %]]></script>

<p><br /></p>

<script src="https://gist.github.com/9502688.js"> </script>

<p><br /></p>

<h2 id="section-4">最长上升子序列</h2>

<p><br /></p>

<p>序列和字符串不同不需要连续.</p>

<blockquote>
  <p>长为n的数列a<sub>0</sub>, a<sub>1</sub>, … , a<sub>n-1</sub>. 求出这个序列中的最长上升子序列的长度. 最长上升子序列是指对于任意的i&lt;j都有a<sub>i</sub>&lt;a<sub>j</sub>. 限制条件1 &lt;= n &lt;= 1000, 0 &lt;= a<sub>i</sub> &lt;= 1000000.</p>
</blockquote>

<p><br /></p>

<p>dp[i]为长度为i的最长上升子序列的末尾元素的最小值(不存在即为INF).</p>

<script src="https://gist.github.com/9503169.js"> </script>

<p><br /></p>


          
          <div class="tags">
            <span>标签: </span>
            <ul>
            
              <li>Algorithm</li>
            
            </ul>
          </div>
          
          <div id="disqus_thread"></div>
          <script type="text/javascript">
            var disqus_shortname = 'lastmayday-github'; // required: replace example with your forum shortname
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
      <footer role="contentinfo">
        <p>Powered by <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://pages.github.com/">Github Pages</a></p>
        <p> &copy lastmayday 2013-2015 | All Rights Reserved. </p>
      </footer>
    </div>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38333678-2']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
