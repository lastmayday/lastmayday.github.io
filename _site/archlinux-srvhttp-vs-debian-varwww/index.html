<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
　　<title>Archlinux /srv/http vs Debian /var/www</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/static/css/style.css"/>
    <link rel="stylesheet" href="/static/css/solarized_light.css">
    <script src="/static/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$', '$'] ],
        displayMath: [ ['$$', '$$']],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      messageStyle: "none",
      "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
    });
    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <script src="/static/js/jquery-2.1.3.min.js"></script>
    <script src="/static/js/script.js"></script>
　</head>

　<body>
    <div id="wrapper">
      <aside>
        <div class="site-info">lastmayday</div>
        <div class="index">
          <a href="/"><div class="circle home"><span>Home</span></div></a>
          <a href="/blog"><div class="circle blog"><span>Blog</span></div></a>
          <a href="/about.html"><div class="circle about"><span>About</span></div></a>
          <a href="/link.html"><div class="circle link"><span>Link</span></div></a>
        </div>
      </aside>
      <div class="content" role="main">
          <h1>Archlinux /srv/http vs Debian /var/www</h1>
          <div class="info">07 October 2013</div>
          <br />
          <p><a href="http://www.wulf.co.nz/archlinux-srvhttp-vs-debian-varwww/">原文地址</a></p>

<h2 id="section">两者的联系</h2>

<p><br /></p>

<p>Debian以及一些其它较老的系统仍然使用<code>/var/www</code>作为web服务的默认根目录, 然而Arch却使用的是<code>/srv/http</code>. <code>/var</code>现在确实有点凌乱, 但是由于心理作用, 我每次都按如下的方式在我的笔记本/台式机上建立符号连接: <code>sudo ln -s /srv/http/ /var/www</code></p>

<p><br /></p>

<h2 id="section-1">两者的不同</h2>

<p><br /></p>

<p>简单地说, 你的服务是从<code>/srv</code>得到的, 而<code>/var</code>放的是可变的内容.</p>

<p><br /></p>

<h3 id="srv">/srv</h3>

<p>指定<code>/srv</code>的主要目的是为了让用户可以找到特定服务的文件所在的位置, 因此这些需要一个单独的目录来存放只读的数据, 可写的数据以及脚本(例如cgi scripts)的服务就能够放在合理的位置. 某个特定用户感兴趣的数据应该适用于所有用户的home目录.</p>

<p><br /></p>

<p>命名<code>/srv</code>子目录的方法没有具体指定, 因为对于应该如何命名现在还没有达成共识. 其中一种方法是通过协议来组织<code>/srv</code>目录下的数据, 例如ftp, rsync, www以及cvs. 对于大型的系统, 通过管理环境来组织<code>/srv</code>是很有用的, 例如<code>/srv/physics/www</code>, <code>/srv/compsci/cvs</code>等等. 这一步因服务器不同而不同. 因此, 任何程序都不能依靠一种具体的<code>/srv</code>的组织结构而存在, 任何数据也不能必须被存储在<code>/srv</code>目录下. 但是在FHS标准的系统里, <code>/srv</code>目录应该总是存在的, 而且也应该作为这些数据存放的默认目录.</p>

<p><br /></p>

<p>各个发行版一定要注意, 在没有管理员权限的情况下是不能把本地文件放入这些目录里的.</p>

<p><br /></p>

<h3 id="var">/var</h3>
<p><code>/var</code>存放的是可变的数据文件. 包括spool目录和文件, 管理和日志数据, 以及临时文件.</p>

<p><br /></p>

<p><code>/var</code>的一些部分在不同的系统间是不共享的. 比方说, <code>/var/log</code>, <code>/var/lock</code>以及<code>/var/run</code>. 其他的部分是可以共享的, 特别是<code>/var/mail</code>, <code>/var/cache/man</code>, <code>/var/cache/fonts</code>以及<code>/var/spool/news</code>.</p>

<p><br /></p>

<p>指定<code>/var</code>是为了有可能只读地挂载<code>/usr</code>. 如果有文件一旦到了<code>/usr</code>里, 在系统运行期间就是可写的(相对于安装和软件维护)了的话, 那这个文件一定要放在<code>/var</code>里.</p>

<p><br /></p>

<p>如果<code>/var</code>不能成为独立的一部分, 那么比较好的方法是, 把根目录下的<code>/var</code>移到<code>/usr</code>里.(这有时候用来减少根目录的大小, 或者根目录的空间没剩多少时也可以这样做.) 但是, <code>/var</code>一定不能连接到<code>/usr</code>, 因为这使得分开<code>/usr</code>和<code>/var</code>更加困难了, 而且很可能会导致命名冲突. 相反, 把<code>/var</code>连接到<code>/usr/var</code>.</p>

<p><br /></p>

<p>应用通常都不会在<code>/var</code>的顶级目录下增加新的目录. 只有当这些目录有系统范围的应用的时候, 并且咨询了FHS的邮件列表之后才能被添加.</p>

<p><br /></p>

<p>例如:</p>

<p><code>/var/log</code> for logs</p>

<p><code>/var/tmp</code> for temporary files</p>

<p><code>/var/cache</code> for cache</p>

<p><code>/var/lock</code> for lock files</p>

<p><br /></p>


          
          <div class="tags">
            <span>标签: </span>
            <ul>
            
              <li>Linux</li>
            
            </ul>
          </div>
          
          <div id="disqus_thread"></div>
          <script type="text/javascript">
            var disqus_shortname = 'lastmayday-github'; // required: replace example with your forum shortname
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
          <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
      <footer role="contentinfo">
        <p>Powered by <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://pages.github.com/">Github Pages</a></p>
        <p> &copy lastmayday 2013-2015 | All Rights Reserved. </p>
      </footer>
    </div>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38333678-2']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
